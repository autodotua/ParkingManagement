@page
@model Park.Admin.Pages.Overview.ParkSettingsModel
@{
    ViewData["Title"] = "停车场设置";
}
@section head{
    <style>
        body {
            margin-left: 8px;
        }

            body .f-btn {
                margin-left: 8px;
            }

            body .f-field-dropdownlist-wrap {
                margin-left: 8px;
            }
    </style>
}
@section body {
    <f:Form ID="form" IsFluid="true" IsViewPort="true" ShowHeader="false" BodyPadding="5 5 0 5">
      <Rows>
        
          <f:FormRow>
              <Items>
                  <f:TextBox  ID="txtName" Label="停车场名" Required="true" Text="@ViewBag.Name"/>
              </Items>
          </f:FormRow>  
          <f:FormRow>
              <Items>
                  <f:NumberBox  ID="txtMonthly" MaxValue="1000" MinValue="10" Label="月租金额"
                               NoDecimal="true" NoNegative="true" Required="true" Text="@ViewBag.Monthly"/>
              </Items>
          </f:FormRow>   
          <f:FormRow>
              <Items>
                  <f:TextBox ID="txtMobileUrl" Label="手机端地址" Required="true" Text="@ViewBag.MobileUrl" />
              </Items>
          </f:FormRow>  
          <f:FormRow>
              <Items>
                  <f:Button Text="保存" OnClick="@Url.Handler("Save")" OnClickFields="form">
                  </f:Button>
              </Items>
          </f:FormRow>
      </Rows>
    </f:Form>
}

@section script{
    <script>
   
        function resetDatabase() {
            // F.confirm是异步函数，直接返回
            F.confirm({
                message: '危险操作！是否重置数据库？',
                ok: function () {
                      F.doPostBack('@Url.Handler("ResetDatabase")');
                },
                cancel: function () {
                }
            });
        }
        function resetAdminDatabase() {
            // F.confirm是异步函数，直接返回
            F.confirm({
                message: '危险操作！是否重置数据库？',
                ok: function () {
                      F.doPostBack('@Url.Handler("ResetAdminDatabase")');
                },
                cancel: function () {
                }
            });
        }
        function generateTestData() {
            // F.confirm是异步函数，直接返回
            F.confirm({
                message: '是否生成测试数据？',
                ok: function () {
                    F.doPostBack('@Url.Handler("GenerateTestData")', {count:F.ui.txtCount.getValue()});
                },
                cancel: function () {
                }
            });
        }
        F.ready(() => {

        })
    </script>
}


